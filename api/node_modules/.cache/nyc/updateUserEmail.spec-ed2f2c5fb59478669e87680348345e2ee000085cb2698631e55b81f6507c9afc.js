function cov_2oo2ealcjn(){var path="/Users/macbook/workspace/isdi-parttime-202303/staff/rodrigo-castro/fullstack/api/logic/user/updateUserEmail.spec.js";var hash="17e354f681588f66961252484ac732b4262fe734";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/macbook/workspace/isdi-parttime-202303/staff/rodrigo-castro/fullstack/api/logic/user/updateUserEmail.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:32},end:{line:3,column:45}},"2":{start:{line:4,column:24},end:{line:4,column:52}},"3":{start:{line:5,column:19},end:{line:5,column:34}},"4":{start:{line:7,column:0},end:{line:104,column:2}},"5":{start:{line:10,column:4},end:{line:16,column:6}},"6":{start:{line:11,column:8},end:{line:11,column:36}},"7":{start:{line:12,column:8},end:{line:12,column:48}},"8":{start:{line:13,column:8},end:{line:13,column:46}},"9":{start:{line:15,column:8},end:{line:15,column:82}},"10":{start:{line:15,column:70},end:{line:15,column:81}},"11":{start:{line:18,column:4},end:{line:44,column:6}},"12":{start:{line:19,column:22},end:{line:19,column:47}},"13":{start:{line:20,column:21},end:{line:20,column:42}},"14":{start:{line:22,column:8},end:{line:43,column:10}},"15":{start:{line:23,column:12},end:{line:23,column:36}},"16":{start:{line:25,column:29},end:{line:25,column:42}},"17":{start:{line:27,column:12},end:{line:42,column:14}},"18":{start:{line:28,column:16},end:{line:28,column:40}},"19":{start:{line:30,column:16},end:{line:41,column:18}},"20":{start:{line:31,column:20},end:{line:31,column:44}},"21":{start:{line:33,column:34},end:{line:33,column:50}},"22":{start:{line:35,column:33},end:{line:35,column:67}},"23":{start:{line:35,column:52},end:{line:35,column:66}},"24":{start:{line:37,column:20},end:{line:37,column:41}},"25":{start:{line:38,column:20},end:{line:38,column:57}},"26":{start:{line:40,column:20},end:{line:40,column:26}},"27":{start:{line:46,column:4},end:{line:55,column:6}},"28":{start:{line:47,column:25},end:{line:47,column:38}},"29":{start:{line:49,column:8},end:{line:54,column:10}},"30":{start:{line:50,column:12},end:{line:50,column:49}},"31":{start:{line:51,column:12},end:{line:51,column:79}},"32":{start:{line:53,column:12},end:{line:53,column:18}},"33":{start:{line:57,column:4},end:{line:73,column:6}},"34":{start:{line:58,column:22},end:{line:58,column:47}},"35":{start:{line:59,column:21},end:{line:59,column:42}},"36":{start:{line:61,column:8},end:{line:72,column:10}},"37":{start:{line:62,column:12},end:{line:62,column:36}},"38":{start:{line:64,column:29},end:{line:64,column:34}},"39":{start:{line:66,column:12},end:{line:71,column:14}},"40":{start:{line:67,column:16},end:{line:67,column:53}},"41":{start:{line:68,column:16},end:{line:68,column:81}},"42":{start:{line:70,column:16},end:{line:70,column:22}},"43":{start:{line:75,column:4},end:{line:91,column:6}},"44":{start:{line:76,column:22},end:{line:76,column:47}},"45":{start:{line:77,column:21},end:{line:77,column:42}},"46":{start:{line:79,column:8},end:{line:90,column:10}},"47":{start:{line:80,column:12},end:{line:80,column:36}},"48":{start:{line:82,column:29},end:{line:82,column:42}},"49":{start:{line:83,column:12},end:{line:83,column:55}},"50":{start:{line:85,column:12},end:{line:89,column:14}},"51":{start:{line:86,column:16},end:{line:86,column:53}},"52":{start:{line:88,column:16},end:{line:88,column:22}},"53":{start:{line:93,column:4},end:{line:97,column:6}},"54":{start:{line:94,column:25},end:{line:94,column:38}},"55":{start:{line:96,column:8},end:{line:96,column:110}},"56":{start:{line:96,column:21},end:{line:96,column:75}},"57":{start:{line:99,column:4},end:{line:103,column:6}},"58":{start:{line:100,column:25},end:{line:100,column:38}},"59":{start:{line:102,column:8},end:{line:102,column:110}},"60":{start:{line:102,column:21},end:{line:102,column:78}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:34},end:{line:104,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:15},end:{line:10,column:16}},loc:{start:{line:10,column:23},end:{line:16,column:5}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:61},end:{line:15,column:62}},loc:{start:{line:15,column:70},end:{line:15,column:81}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:18,column:55},end:{line:18,column:56}},loc:{start:{line:18,column:63},end:{line:44,column:5}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:22,column:61},end:{line:22,column:62}},loc:{start:{line:22,column:70},end:{line:43,column:9}},line:22},"5":{name:"(anonymous_5)",decl:{start:{line:27,column:59},end:{line:27,column:60}},loc:{start:{line:27,column:68},end:{line:42,column:13}},line:27},"6":{name:"(anonymous_6)",decl:{start:{line:30,column:62},end:{line:30,column:63}},loc:{start:{line:30,column:79},end:{line:41,column:17}},line:30},"7":{name:"(anonymous_7)",decl:{start:{line:35,column:44},end:{line:35,column:45}},loc:{start:{line:35,column:52},end:{line:35,column:66}},line:35},"8":{name:"(anonymous_8)",decl:{start:{line:46,column:37},end:{line:46,column:38}},loc:{start:{line:46,column:45},end:{line:55,column:5}},line:46},"9":{name:"(anonymous_9)",decl:{start:{line:49,column:55},end:{line:49,column:56}},loc:{start:{line:49,column:64},end:{line:54,column:9}},line:49},"10":{name:"(anonymous_10)",decl:{start:{line:57,column:51},end:{line:57,column:52}},loc:{start:{line:57,column:59},end:{line:73,column:5}},line:57},"11":{name:"(anonymous_11)",decl:{start:{line:61,column:61},end:{line:61,column:62}},loc:{start:{line:61,column:70},end:{line:72,column:9}},line:61},"12":{name:"(anonymous_12)",decl:{start:{line:66,column:59},end:{line:66,column:60}},loc:{start:{line:66,column:68},end:{line:71,column:13}},line:66},"13":{name:"(anonymous_13)",decl:{start:{line:75,column:34},end:{line:75,column:35}},loc:{start:{line:75,column:42},end:{line:91,column:5}},line:75},"14":{name:"(anonymous_14)",decl:{start:{line:79,column:61},end:{line:79,column:62}},loc:{start:{line:79,column:70},end:{line:90,column:9}},line:79},"15":{name:"(anonymous_15)",decl:{start:{line:85,column:64},end:{line:85,column:65}},loc:{start:{line:85,column:73},end:{line:89,column:13}},line:85},"16":{name:"(anonymous_16)",decl:{start:{line:93,column:34},end:{line:93,column:35}},loc:{start:{line:93,column:40},end:{line:97,column:5}},line:93},"17":{name:"(anonymous_17)",decl:{start:{line:96,column:15},end:{line:96,column:16}},loc:{start:{line:96,column:21},end:{line:96,column:75}},line:96},"18":{name:"(anonymous_18)",decl:{start:{line:96,column:65},end:{line:96,column:66}},loc:{start:{line:96,column:71},end:{line:96,column:74}},line:96},"19":{name:"(anonymous_19)",decl:{start:{line:99,column:31},end:{line:99,column:32}},loc:{start:{line:99,column:37},end:{line:103,column:5}},line:99},"20":{name:"(anonymous_20)",decl:{start:{line:102,column:15},end:{line:102,column:16}},loc:{start:{line:102,column:21},end:{line:102,column:78}},line:102},"21":{name:"(anonymous_21)",decl:{start:{line:102,column:68},end:{line:102,column:69}},loc:{start:{line:102,column:74},end:{line:102,column:77}},line:102}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17e354f681588f66961252484ac732b4262fe734"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2oo2ealcjn=function(){return actualCoverage;};}return actualCoverage;}cov_2oo2ealcjn();cov_2oo2ealcjn().s[0]++;require('dotenv').config();const{readFile,writeFile}=(cov_2oo2ealcjn().s[1]++,require('fs'));const updateUserEmail=(cov_2oo2ealcjn().s[2]++,require('./updateUserEmail'));const{expect}=(cov_2oo2ealcjn().s[3]++,require('chai'));cov_2oo2ealcjn().s[4]++;describe('updateUserEmail',()=>{cov_2oo2ealcjn().f[0]++;let id,email;cov_2oo2ealcjn().s[5]++;beforeEach(done=>{cov_2oo2ealcjn().f[1]++;cov_2oo2ealcjn().s[6]++;id=`user-${Math.random()}`;cov_2oo2ealcjn().s[7]++;email=`user-${Math.random()}@mail.com`;cov_2oo2ealcjn().s[8]++;password=`password-${Math.random()}`;cov_2oo2ealcjn().s[9]++;writeFile(`${process.env.DB_PATH}/users.json`,'[]',error=>{cov_2oo2ealcjn().f[2]++;cov_2oo2ealcjn().s[10]++;return done(error);});});cov_2oo2ealcjn().s[11]++;it('succeeds on existing user and correct inputs',done=>{cov_2oo2ealcjn().f[3]++;const users=(cov_2oo2ealcjn().s[12]++,[{id,email,password}]);const json=(cov_2oo2ealcjn().s[13]++,JSON.stringify(users));cov_2oo2ealcjn().s[14]++;writeFile(`${process.env.DB_PATH}/users.json`,json,error=>{cov_2oo2ealcjn().f[4]++;cov_2oo2ealcjn().s[15]++;expect(error).to.be.null;const newEmail=(cov_2oo2ealcjn().s[16]++,email+'.es');cov_2oo2ealcjn().s[17]++;updateUserEmail(id,email,newEmail,password,error=>{cov_2oo2ealcjn().f[5]++;cov_2oo2ealcjn().s[18]++;expect(error).to.be.null;cov_2oo2ealcjn().s[19]++;readFile(`${process.env.DB_PATH}/users.json`,(error,json)=>{cov_2oo2ealcjn().f[6]++;cov_2oo2ealcjn().s[20]++;expect(error).to.be.null;const users=(cov_2oo2ealcjn().s[21]++,JSON.parse(json));const user=(cov_2oo2ealcjn().s[22]++,users.find(user=>{cov_2oo2ealcjn().f[7]++;cov_2oo2ealcjn().s[23]++;return user.id===id;}));cov_2oo2ealcjn().s[24]++;expect(user).to.exist;cov_2oo2ealcjn().s[25]++;expect(user.email).to.equal(newEmail);cov_2oo2ealcjn().s[26]++;done();});});});});cov_2oo2ealcjn().s[27]++;it('fails on non-existing user',done=>{cov_2oo2ealcjn().f[8]++;const newEmail=(cov_2oo2ealcjn().s[28]++,email+'.es');cov_2oo2ealcjn().s[29]++;updateUserEmail(id,email,newEmail,password,error=>{cov_2oo2ealcjn().f[9]++;cov_2oo2ealcjn().s[30]++;expect(error).to.be.instanceOf(Error);cov_2oo2ealcjn().s[31]++;expect(error.message).to.equal(`user with user-id ${id} not found`);cov_2oo2ealcjn().s[32]++;done();});});cov_2oo2ealcjn().s[33]++;it('fails if new email is already registered',done=>{cov_2oo2ealcjn().f[10]++;const users=(cov_2oo2ealcjn().s[34]++,[{id,email,password}]);const json=(cov_2oo2ealcjn().s[35]++,JSON.stringify(users));cov_2oo2ealcjn().s[36]++;writeFile(`${process.env.DB_PATH}/users.json`,json,error=>{cov_2oo2ealcjn().f[11]++;cov_2oo2ealcjn().s[37]++;expect(error).to.be.null;const newEmail=(cov_2oo2ealcjn().s[38]++,email);cov_2oo2ealcjn().s[39]++;updateUserEmail(id,email,newEmail,password,error=>{cov_2oo2ealcjn().f[12]++;cov_2oo2ealcjn().s[40]++;expect(error).to.be.instanceOf(Error);cov_2oo2ealcjn().s[41]++;expect(error.message).to.equal('new email is already registered');cov_2oo2ealcjn().s[42]++;done();});});});cov_2oo2ealcjn().s[43]++;it('fails on wrong password',done=>{cov_2oo2ealcjn().f[13]++;const users=(cov_2oo2ealcjn().s[44]++,[{id,email,password}]);const json=(cov_2oo2ealcjn().s[45]++,JSON.stringify(users));cov_2oo2ealcjn().s[46]++;writeFile(`${process.env.DB_PATH}/users.json`,json,error=>{cov_2oo2ealcjn().f[14]++;cov_2oo2ealcjn().s[47]++;expect(error).to.be.null;const newEmail=(cov_2oo2ealcjn().s[48]++,email+'.es');cov_2oo2ealcjn().s[49]++;wrongPassword=`password-${Math.random()}`;cov_2oo2ealcjn().s[50]++;updateUserEmail(id,email,newEmail,wrongPassword,error=>{cov_2oo2ealcjn().f[15]++;cov_2oo2ealcjn().s[51]++;expect(error).to.be.instanceOf(Error);cov_2oo2ealcjn().s[52]++;done();});});});cov_2oo2ealcjn().s[53]++;it('fails on an emtpy email',()=>{cov_2oo2ealcjn().f[16]++;const newEmail=(cov_2oo2ealcjn().s[54]++,email+'.es');cov_2oo2ealcjn().s[55]++;expect(()=>{cov_2oo2ealcjn().f[17]++;cov_2oo2ealcjn().s[56]++;return updateUserEmail(id,'',newEmail,password,()=>{cov_2oo2ealcjn().f[18]++;});}).to.throw(Error,'Email is empty');});cov_2oo2ealcjn().s[57]++;it('fails on an emtpy id',()=>{cov_2oo2ealcjn().f[19]++;const newEmail=(cov_2oo2ealcjn().s[58]++,email+'.es');cov_2oo2ealcjn().s[59]++;expect(()=>{cov_2oo2ealcjn().f[20]++;cov_2oo2ealcjn().s[60]++;return updateUserEmail('',email,newEmail,password,()=>{cov_2oo2ealcjn().f[21]++;});}).to.throw(Error,'id is empty');});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm9vMmVhbGNqbiIsImFjdHVhbENvdmVyYWdlIiwicyIsInJlcXVpcmUiLCJjb25maWciLCJyZWFkRmlsZSIsIndyaXRlRmlsZSIsInVwZGF0ZVVzZXJFbWFpbCIsImV4cGVjdCIsImRlc2NyaWJlIiwiZiIsImlkIiwiZW1haWwiLCJiZWZvcmVFYWNoIiwiZG9uZSIsIk1hdGgiLCJyYW5kb20iLCJwYXNzd29yZCIsInByb2Nlc3MiLCJlbnYiLCJEQl9QQVRIIiwiZXJyb3IiLCJpdCIsInVzZXJzIiwianNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0byIsImJlIiwibnVsbCIsIm5ld0VtYWlsIiwicGFyc2UiLCJ1c2VyIiwiZmluZCIsImV4aXN0IiwiZXF1YWwiLCJpbnN0YW5jZU9mIiwiRXJyb3IiLCJtZXNzYWdlIiwid3JvbmdQYXNzd29yZCIsInRocm93Il0sInNvdXJjZXMiOlsidXBkYXRlVXNlckVtYWlsLnNwZWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgeyByZWFkRmlsZSwgd3JpdGVGaWxlIH0gPSByZXF1aXJlKCdmcycpXG5jb25zdCB1cGRhdGVVc2VyRW1haWwgPSByZXF1aXJlKCcuL3VwZGF0ZVVzZXJFbWFpbCcpXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXG5cbmRlc2NyaWJlKCd1cGRhdGVVc2VyRW1haWwnLCAoKSA9PiB7XG4gICAgbGV0IGlkLCBlbWFpbFxuXG4gICAgYmVmb3JlRWFjaChkb25lID0+IHtcbiAgICAgICAgaWQgPSBgdXNlci0ke01hdGgucmFuZG9tKCl9YFxuICAgICAgICBlbWFpbCA9IGB1c2VyLSR7TWF0aC5yYW5kb20oKX1AbWFpbC5jb21gXG4gICAgICAgIHBhc3N3b3JkID0gYHBhc3N3b3JkLSR7TWF0aC5yYW5kb20oKX1gXG5cbiAgICAgICAgd3JpdGVGaWxlKGAke3Byb2Nlc3MuZW52LkRCX1BBVEh9L3VzZXJzLmpzb25gLCAnW10nLCBlcnJvciA9PiBkb25lKGVycm9yKSlcbiAgICB9KVxuXG4gICAgaXQoJ3N1Y2NlZWRzIG9uIGV4aXN0aW5nIHVzZXIgYW5kIGNvcnJlY3QgaW5wdXRzJywgZG9uZSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gW3sgaWQsIGVtYWlsLCBwYXNzd29yZCB9XVxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcnMpXG5cbiAgICAgICAgd3JpdGVGaWxlKGAke3Byb2Nlc3MuZW52LkRCX1BBVEh9L3VzZXJzLmpzb25gLCBqc29uLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLm51bGxcblxuICAgICAgICAgICAgY29uc3QgbmV3RW1haWwgPSBlbWFpbCArICcuZXMnXG5cbiAgICAgICAgICAgIHVwZGF0ZVVzZXJFbWFpbChpZCwgZW1haWwsIG5ld0VtYWlsLCBwYXNzd29yZCwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uYmUubnVsbFxuXG4gICAgICAgICAgICAgICAgcmVhZEZpbGUoYCR7cHJvY2Vzcy5lbnYuREJfUEFUSH0vdXNlcnMuanNvbmAsIChlcnJvciwganNvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLm51bGxcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VycyA9IEpTT04ucGFyc2UoanNvbilcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gdXNlcnMuZmluZCh1c2VyID0+IHVzZXIuaWQgPT09IGlkKVxuXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyKS50by5leGlzdFxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5lbWFpbCkudG8uZXF1YWwobmV3RW1haWwpXG5cbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdmYWlscyBvbiBub24tZXhpc3RpbmcgdXNlcicsIGRvbmUgPT4ge1xuICAgICAgICBjb25zdCBuZXdFbWFpbCA9IGVtYWlsICsgJy5lcydcblxuICAgICAgICB1cGRhdGVVc2VyRW1haWwoaWQsIGVtYWlsLCBuZXdFbWFpbCwgcGFzc3dvcmQsIGVycm9yID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uYmUuaW5zdGFuY2VPZihFcnJvcilcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50by5lcXVhbChgdXNlciB3aXRoIHVzZXItaWQgJHtpZH0gbm90IGZvdW5kYClcblxuICAgICAgICAgICAgZG9uZSgpXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdmYWlscyBpZiBuZXcgZW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkJywgZG9uZSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gW3sgaWQsIGVtYWlsLCBwYXNzd29yZCB9XVxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcnMpXG5cbiAgICAgICAgd3JpdGVGaWxlKGAke3Byb2Nlc3MuZW52LkRCX1BBVEh9L3VzZXJzLmpzb25gLCBqc29uLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLm51bGxcblxuICAgICAgICAgICAgY29uc3QgbmV3RW1haWwgPSBlbWFpbFxuXG4gICAgICAgICAgICB1cGRhdGVVc2VyRW1haWwoaWQsIGVtYWlsLCBuZXdFbWFpbCwgcGFzc3dvcmQsIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLmluc3RhbmNlT2YoRXJyb3IpXG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKCduZXcgZW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkJylcblxuICAgICAgICAgICAgICAgIGRvbmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2ZhaWxzIG9uIHdyb25nIHBhc3N3b3JkJywgZG9uZSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gW3sgaWQsIGVtYWlsLCBwYXNzd29yZCB9XVxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcnMpXG5cbiAgICAgICAgd3JpdGVGaWxlKGAke3Byb2Nlc3MuZW52LkRCX1BBVEh9L3VzZXJzLmpzb25gLCBqc29uLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLm51bGxcblxuICAgICAgICAgICAgY29uc3QgbmV3RW1haWwgPSBlbWFpbCArICcuZXMnXG4gICAgICAgICAgICB3cm9uZ1Bhc3N3b3JkID0gYHBhc3N3b3JkLSR7TWF0aC5yYW5kb20oKX1gXG5cbiAgICAgICAgICAgIHVwZGF0ZVVzZXJFbWFpbChpZCwgZW1haWwsIG5ld0VtYWlsLCB3cm9uZ1Bhc3N3b3JkLCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5iZS5pbnN0YW5jZU9mKEVycm9yKVxuXG4gICAgICAgICAgICAgICAgZG9uZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZmFpbHMgb24gYW4gZW10cHkgZW1haWwnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VtYWlsID0gZW1haWwgKyAnLmVzJ1xuXG4gICAgICAgIGV4cGVjdCgoKSA9PiB1cGRhdGVVc2VyRW1haWwoaWQsICcnLCBuZXdFbWFpbCwgcGFzc3dvcmQsICgpID0+IHsgfSkpLnRvLnRocm93KEVycm9yLCAnRW1haWwgaXMgZW1wdHknKVxuICAgIH0pXG5cbiAgICBpdCgnZmFpbHMgb24gYW4gZW10cHkgaWQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VtYWlsID0gZW1haWwgKyAnLmVzJ1xuXG4gICAgICAgIGV4cGVjdCgoKSA9PiB1cGRhdGVVc2VyRW1haWwoJycsIGVtYWlsLCBuZXdFbWFpbCwgcGFzc3dvcmQsICgpID0+IHsgfSkpLnRvLnRocm93KEVycm9yLCAnaWQgaXMgZW1wdHknKVxuICAgIH0pXG59KSJdLCJtYXBwaW5ncyI6ImcwUEFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FBQUEsY0FBQSxHQUFBRSxDQUFBLE1BZlpDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FFMUIsS0FBTSxDQUFFQyxRQUFRLENBQUVDLFNBQVUsQ0FBQyxFQUFBTixjQUFBLEdBQUFFLENBQUEsTUFBR0MsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUM3QyxLQUFNLENBQUFJLGVBQWUsRUFBQVAsY0FBQSxHQUFBRSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxFQUNwRCxLQUFNLENBQUVLLE1BQU8sQ0FBQyxFQUFBUixjQUFBLEdBQUFFLENBQUEsTUFBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFBSCxjQUFBLEdBQUFFLENBQUEsTUFFbENPLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBRSxJQUFNLENBQUFULGNBQUEsR0FBQVUsQ0FBQSxNQUM5QixHQUFJLENBQUFDLEVBQUUsQ0FBRUMsS0FBSyxDQUFBWixjQUFBLEdBQUFFLENBQUEsTUFFYlcsVUFBVSxDQUFDQyxJQUFJLEVBQUksQ0FBQWQsY0FBQSxHQUFBVSxDQUFBLE1BQUFWLGNBQUEsR0FBQUUsQ0FBQSxNQUNmUyxFQUFFLENBQUksUUFBT0ksSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBRSxFQUFDLENBQUFoQixjQUFBLEdBQUFFLENBQUEsTUFDNUJVLEtBQUssQ0FBSSxRQUFPRyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFFLFdBQVUsQ0FBQWhCLGNBQUEsR0FBQUUsQ0FBQSxNQUN4Q2UsUUFBUSxDQUFJLFlBQVdGLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUUsRUFBQyxDQUFBaEIsY0FBQSxH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