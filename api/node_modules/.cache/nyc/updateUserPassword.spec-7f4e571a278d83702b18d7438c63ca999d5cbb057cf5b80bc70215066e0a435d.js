function cov_aezdv6gb1(){var path="/Users/macbook/workspace/isdi-parttime-202303/staff/rodrigo-castro/fullstack/api/logic/user/updateUserPassword.spec.js";var hash="e202556f499fa24cc9b93f87ade2a15002f9a336";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/macbook/workspace/isdi-parttime-202303/staff/rodrigo-castro/fullstack/api/logic/user/updateUserPassword.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:27},end:{line:3,column:58}},"2":{start:{line:4,column:19},end:{line:4,column:34}},"3":{start:{line:5,column:32},end:{line:5,column:45}},"4":{start:{line:7,column:0},end:{line:95,column:2}},"5":{start:{line:9,column:4},end:{line:19,column:6}},"6":{start:{line:10,column:8},end:{line:10,column:56}},"7":{start:{line:11,column:8},end:{line:11,column:38}},"8":{start:{line:12,column:8},end:{line:12,column:49}},"9":{start:{line:13,column:8},end:{line:13,column:46}},"10":{start:{line:14,column:8},end:{line:14,column:42}},"11":{start:{line:16,column:8},end:{line:18,column:10}},"12":{start:{line:17,column:12},end:{line:17,column:23}},"13":{start:{line:21,column:4},end:{line:49,column:6}},"14":{start:{line:22,column:8},end:{line:22,column:38}},"15":{start:{line:23,column:8},end:{line:23,column:40}},"16":{start:{line:25,column:22},end:{line:25,column:61}},"17":{start:{line:27,column:21},end:{line:27,column:42}},"18":{start:{line:29,column:8},end:{line:48,column:10}},"19":{start:{line:30,column:12},end:{line:30,column:36}},"20":{start:{line:32,column:12},end:{line:47,column:14}},"21":{start:{line:33,column:16},end:{line:33,column:40}},"22":{start:{line:35,column:16},end:{line:46,column:18}},"23":{start:{line:36,column:20},end:{line:36,column:44}},"24":{start:{line:38,column:34},end:{line:38,column:50}},"25":{start:{line:40,column:33},end:{line:40,column:67}},"26":{start:{line:40,column:52},end:{line:40,column:66}},"27":{start:{line:42,column:20},end:{line:42,column:41}},"28":{start:{line:43,column:20},end:{line:43,column:63}},"29":{start:{line:45,column:20},end:{line:45,column:26}},"30":{start:{line:51,column:4},end:{line:61,column:6}},"31":{start:{line:52,column:8},end:{line:52,column:38}},"32":{start:{line:53,column:8},end:{line:53,column:40}},"33":{start:{line:55,column:8},end:{line:60,column:10}},"34":{start:{line:56,column:12},end:{line:56,column:49}},"35":{start:{line:57,column:12},end:{line:57,column:74}},"36":{start:{line:59,column:12},end:{line:59,column:18}},"37":{start:{line:63,column:4},end:{line:68,column:6}},"38":{start:{line:64,column:8},end:{line:64,column:30}},"39":{start:{line:65,column:8},end:{line:65,column:48}},"40":{start:{line:67,column:8},end:{line:67,column:169}},"41":{start:{line:67,column:21},end:{line:67,column:97}},"42":{start:{line:70,column:4},end:{line:75,column:6}},"43":{start:{line:71,column:8},end:{line:71,column:39}},"44":{start:{line:72,column:8},end:{line:72,column:48}},"45":{start:{line:74,column:8},end:{line:74,column:140}},"46":{start:{line:74,column:21},end:{line:74,column:97}},"47":{start:{line:77,column:4},end:{line:88,column:6}},"48":{start:{line:78,column:8},end:{line:78,column:38}},"49":{start:{line:79,column:8},end:{line:79,column:40}},"50":{start:{line:80,column:8},end:{line:80,column:38}},"51":{start:{line:82,column:8},end:{line:87,column:10}},"52":{start:{line:83,column:12},end:{line:83,column:49}},"53":{start:{line:84,column:12},end:{line:84,column:67}},"54":{start:{line:86,column:12},end:{line:86,column:18}},"55":{start:{line:90,column:4},end:{line:94,column:6}},"56":{start:{line:91,column:8},end:{line:93,column:10}},"57":{start:{line:92,column:12},end:{line:92,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:31},end:{line:7,column:32}},loc:{start:{line:7,column:37},end:{line:95,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:15},end:{line:9,column:16}},loc:{start:{line:9,column:23},end:{line:19,column:5}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:69},end:{line:16,column:70}},loc:{start:{line:16,column:80},end:{line:18,column:9}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:67},end:{line:21,column:68}},loc:{start:{line:21,column:75},end:{line:49,column:5}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:29,column:61},end:{line:29,column:62}},loc:{start:{line:29,column:72},end:{line:48,column:9}},line:29},"5":{name:"(anonymous_5)",decl:{start:{line:32,column:78},end:{line:32,column:79}},loc:{start:{line:32,column:87},end:{line:47,column:13}},line:32},"6":{name:"(anonymous_6)",decl:{start:{line:35,column:62},end:{line:35,column:63}},loc:{start:{line:35,column:79},end:{line:46,column:17}},line:35},"7":{name:"(anonymous_7)",decl:{start:{line:40,column:44},end:{line:40,column:45}},loc:{start:{line:40,column:52},end:{line:40,column:66}},line:40},"8":{name:"(anonymous_8)",decl:{start:{line:51,column:37},end:{line:51,column:38}},loc:{start:{line:51,column:45},end:{line:61,column:5}},line:51},"9":{name:"(anonymous_9)",decl:{start:{line:55,column:74},end:{line:55,column:75}},loc:{start:{line:55,column:83},end:{line:60,column:9}},line:55},"10":{name:"(anonymous_10)",decl:{start:{line:63,column:58},end:{line:63,column:59}},loc:{start:{line:63,column:64},end:{line:68,column:5}},line:63},"11":{name:"(anonymous_11)",decl:{start:{line:67,column:15},end:{line:67,column:16}},loc:{start:{line:67,column:21},end:{line:67,column:97}},line:67},"12":{name:"(anonymous_12)",decl:{start:{line:67,column:87},end:{line:67,column:88}},loc:{start:{line:67,column:93},end:{line:67,column:96}},line:67},"13":{name:"(anonymous_13)",decl:{start:{line:70,column:64},end:{line:70,column:65}},loc:{start:{line:70,column:70},end:{line:75,column:5}},line:70},"14":{name:"(anonymous_14)",decl:{start:{line:74,column:15},end:{line:74,column:16}},loc:{start:{line:74,column:21},end:{line:74,column:97}},line:74},"15":{name:"(anonymous_15)",decl:{start:{line:74,column:87},end:{line:74,column:88}},loc:{start:{line:74,column:93},end:{line:74,column:96}},line:74},"16":{name:"(anonymous_16)",decl:{start:{line:77,column:62},end:{line:77,column:63}},loc:{start:{line:77,column:68},end:{line:88,column:5}},line:77},"17":{name:"(anonymous_17)",decl:{start:{line:82,column:74},end:{line:82,column:75}},loc:{start:{line:82,column:83},end:{line:87,column:9}},line:82},"18":{name:"(anonymous_18)",decl:{start:{line:90,column:10},end:{line:90,column:11}},loc:{start:{line:90,column:18},end:{line:94,column:5}},line:90},"19":{name:"(anonymous_19)",decl:{start:{line:91,column:69},end:{line:91,column:70}},loc:{start:{line:91,column:80},end:{line:93,column:9}},line:91}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e202556f499fa24cc9b93f87ade2a15002f9a336"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_aezdv6gb1=function(){return actualCoverage;};}return actualCoverage;}cov_aezdv6gb1();cov_aezdv6gb1().s[0]++;require('dotenv').config();const updateUserPassword=(cov_aezdv6gb1().s[1]++,require('./updateUserPassword'));const{expect}=(cov_aezdv6gb1().s[2]++,require('chai'));const{readFile,writeFile}=(cov_aezdv6gb1().s[3]++,require('fs'));cov_aezdv6gb1().s[4]++;describe('updateUserPassword',()=>{cov_aezdv6gb1().f[0]++;let id,name,email,password,newPassword,newPasswordConfirm,avatar;cov_aezdv6gb1().s[5]++;beforeEach(done=>{cov_aezdv6gb1().f[1]++;cov_aezdv6gb1().s[6]++;id=`id-${Math.round(Math.random()*100+1)}`;cov_aezdv6gb1().s[7]++;name=`name-${Math.random()}`;cov_aezdv6gb1().s[8]++;email=`email-${Math.random()}@mail.com`;cov_aezdv6gb1().s[9]++;password=`password-${Math.random()}`;cov_aezdv6gb1().s[10]++;avatar=`avatar-${Math.random()}`;cov_aezdv6gb1().s[11]++;writeFile(`${process.env.DB_PATH}/users.json`,'[]','utf8',error=>{cov_aezdv6gb1().f[2]++;cov_aezdv6gb1().s[12]++;done(error);});});cov_aezdv6gb1().s[13]++;it('succeeds on changing the user password for the given one',done=>{cov_aezdv6gb1().f[3]++;cov_aezdv6gb1().s[14]++;newPassword=password+'new';cov_aezdv6gb1().s[15]++;newPasswordConfirm=newPassword;const users=(cov_aezdv6gb1().s[16]++,[{id,name,email,password,avatar}]);const json=(cov_aezdv6gb1().s[17]++,JSON.stringify(users));cov_aezdv6gb1().s[18]++;writeFile(`${process.env.DB_PATH}/users.json`,json,error=>{cov_aezdv6gb1().f[4]++;cov_aezdv6gb1().s[19]++;expect(error).to.be.null;cov_aezdv6gb1().s[20]++;updateUserPassword(id,password,newPassword,newPasswordConfirm,error=>{cov_aezdv6gb1().f[5]++;cov_aezdv6gb1().s[21]++;expect(error).to.be.null;cov_aezdv6gb1().s[22]++;readFile(`${process.env.DB_PATH}/users.json`,(error,json)=>{cov_aezdv6gb1().f[6]++;cov_aezdv6gb1().s[23]++;expect(error).to.be.null;const users=(cov_aezdv6gb1().s[24]++,JSON.parse(json));const user=(cov_aezdv6gb1().s[25]++,users.find(user=>{cov_aezdv6gb1().f[7]++;cov_aezdv6gb1().s[26]++;return user.id===id;}));cov_aezdv6gb1().s[27]++;expect(user).to.exist;cov_aezdv6gb1().s[28]++;expect(user.password).to.equal(newPassword);cov_aezdv6gb1().s[29]++;done();});});});});cov_aezdv6gb1().s[30]++;it('fails on non-existing user',done=>{cov_aezdv6gb1().f[8]++;cov_aezdv6gb1().s[31]++;newPassword=password+'new';cov_aezdv6gb1().s[32]++;newPasswordConfirm=newPassword;cov_aezdv6gb1().s[33]++;updateUserPassword(id,password,newPassword,newPasswordConfirm,error=>{cov_aezdv6gb1().f[9]++;cov_aezdv6gb1().s[34]++;expect(error).to.be.instanceOf(Error);cov_aezdv6gb1().s[35]++;expect(error.message).to.equal(`user with id ${id} not found`);cov_aezdv6gb1().s[36]++;done();});});cov_aezdv6gb1().s[37]++;it('fails when new password equals current password',()=>{cov_aezdv6gb1().f[10]++;cov_aezdv6gb1().s[38]++;newPassword=password;cov_aezdv6gb1().s[39]++;newPasswordConfirm=newPassword+'new';cov_aezdv6gb1().s[40]++;expect(()=>{cov_aezdv6gb1().f[11]++;cov_aezdv6gb1().s[41]++;return updateUserPassword(id,password,newPassword,newPasswordConfirm,()=>{cov_aezdv6gb1().f[12]++;});}).to.throw(Error,'New password must be different as previous password');});cov_aezdv6gb1().s[42]++;it('fails when new password do not match its confirmation',()=>{cov_aezdv6gb1().f[13]++;cov_aezdv6gb1().s[43]++;newPassword=password+'-new';cov_aezdv6gb1().s[44]++;newPasswordConfirm=password+'-wrong';cov_aezdv6gb1().s[45]++;expect(()=>{cov_aezdv6gb1().f[14]++;cov_aezdv6gb1().s[46]++;return updateUserPassword(id,password,newPassword,newPasswordConfirm,()=>{cov_aezdv6gb1().f[15]++;});}).to.throw(Error,'Passwords do not match');});cov_aezdv6gb1().s[47]++;it('fails when password does ont match current password',()=>{cov_aezdv6gb1().f[16]++;cov_aezdv6gb1().s[48]++;newPassword=password+'new';cov_aezdv6gb1().s[49]++;newPasswordConfirm=newPassword;cov_aezdv6gb1().s[50]++;password=password+'-wrong';cov_aezdv6gb1().s[51]++;updateUserPassword(id,password,newPassword,newPasswordConfirm,error=>{cov_aezdv6gb1().f[17]++;cov_aezdv6gb1().s[52]++;expect(error).to.be.instanceOf(Error);cov_aezdv6gb1().s[53]++;expect(error.message).to.equal('Password is incorrect');cov_aezdv6gb1().s[54]++;done();});});cov_aezdv6gb1().s[55]++;after(done=>{cov_aezdv6gb1().f[18]++;cov_aezdv6gb1().s[56]++;writeFile(`${process.env.DB_PATH}/users.json`,'[]','utf8',error=>{cov_aezdv6gb1().f[19]++;cov_aezdv6gb1().s[57]++;done(error);});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYWV6ZHY2Z2IxIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwicmVxdWlyZSIsImNvbmZpZyIsInVwZGF0ZVVzZXJQYXNzd29yZCIsImV4cGVjdCIsInJlYWRGaWxlIiwid3JpdGVGaWxlIiwiZGVzY3JpYmUiLCJmIiwiaWQiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwibmV3UGFzc3dvcmRDb25maXJtIiwiYXZhdGFyIiwiYmVmb3JlRWFjaCIsImRvbmUiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwcm9jZXNzIiwiZW52IiwiREJfUEFUSCIsImVycm9yIiwiaXQiLCJ1c2VycyIsImpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwidG8iLCJiZSIsIm51bGwiLCJwYXJzZSIsInVzZXIiLCJmaW5kIiwiZXhpc3QiLCJlcXVhbCIsImluc3RhbmNlT2YiLCJFcnJvciIsIm1lc3NhZ2UiLCJ0aHJvdyIsImFmdGVyIl0sInNvdXJjZXMiOlsidXBkYXRlVXNlclBhc3N3b3JkLnNwZWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgdXBkYXRlVXNlclBhc3N3b3JkID0gcmVxdWlyZSgnLi91cGRhdGVVc2VyUGFzc3dvcmQnKVxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKVxuY29uc3QgeyByZWFkRmlsZSwgd3JpdGVGaWxlIH0gPSByZXF1aXJlKCdmcycpXG5cbmRlc2NyaWJlKCd1cGRhdGVVc2VyUGFzc3dvcmQnLCAoKSA9PiB7XG4gICAgbGV0IGlkLCBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBuZXdQYXNzd29yZENvbmZpcm0sIGF2YXRhclxuICAgIGJlZm9yZUVhY2goZG9uZSA9PiB7XG4gICAgICAgIGlkID0gYGlkLSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwICsgMSl9YFxuICAgICAgICBuYW1lID0gYG5hbWUtJHtNYXRoLnJhbmRvbSgpfWBcbiAgICAgICAgZW1haWwgPSBgZW1haWwtJHtNYXRoLnJhbmRvbSgpfUBtYWlsLmNvbWBcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtNYXRoLnJhbmRvbSgpfWBcbiAgICAgICAgYXZhdGFyID0gYGF2YXRhci0ke01hdGgucmFuZG9tKCl9YFxuXG4gICAgICAgIHdyaXRlRmlsZShgJHtwcm9jZXNzLmVudi5EQl9QQVRIfS91c2Vycy5qc29uYCwgJ1tdJywgJ3V0ZjgnLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGRvbmUoZXJyb3IpXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdzdWNjZWVkcyBvbiBjaGFuZ2luZyB0aGUgdXNlciBwYXNzd29yZCBmb3IgdGhlIGdpdmVuIG9uZScsIGRvbmUgPT4ge1xuICAgICAgICBuZXdQYXNzd29yZCA9IHBhc3N3b3JkICsgJ25ldydcbiAgICAgICAgbmV3UGFzc3dvcmRDb25maXJtID0gbmV3UGFzc3dvcmRcblxuICAgICAgICBjb25zdCB1c2VycyA9IFt7IGlkLCBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGF2YXRhciB9XVxuXG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh1c2VycylcblxuICAgICAgICB3cml0ZUZpbGUoYCR7cHJvY2Vzcy5lbnYuREJfUEFUSH0vdXNlcnMuanNvbmAsIGpzb24sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5iZS5udWxsXG5cbiAgICAgICAgICAgIHVwZGF0ZVVzZXJQYXNzd29yZChpZCwgcGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBuZXdQYXNzd29yZENvbmZpcm0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLm51bGxcblxuICAgICAgICAgICAgICAgIHJlYWRGaWxlKGAke3Byb2Nlc3MuZW52LkRCX1BBVEh9L3VzZXJzLmpzb25gLCAoZXJyb3IsIGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5iZS5udWxsXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBKU09OLnBhcnNlKGpzb24pXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodXNlciA9PiB1c2VyLmlkID09PSBpZClcblxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlcikudG8uZXhpc3RcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHVzZXIucGFzc3dvcmQpLnRvLmVxdWFsKG5ld1Bhc3N3b3JkKVxuXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZmFpbHMgb24gbm9uLWV4aXN0aW5nIHVzZXInLCBkb25lID0+IHtcbiAgICAgICAgbmV3UGFzc3dvcmQgPSBwYXNzd29yZCArICduZXcnXG4gICAgICAgIG5ld1Bhc3N3b3JkQ29uZmlybSA9IG5ld1Bhc3N3b3JkXG5cbiAgICAgICAgdXBkYXRlVXNlclBhc3N3b3JkKGlkLCBwYXNzd29yZCwgbmV3UGFzc3dvcmQsIG5ld1Bhc3N3b3JkQ29uZmlybSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5iZS5pbnN0YW5jZU9mKEVycm9yKVxuICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKGB1c2VyIHdpdGggaWQgJHtpZH0gbm90IGZvdW5kYClcblxuICAgICAgICAgICAgZG9uZSgpXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdmYWlscyB3aGVuIG5ldyBwYXNzd29yZCBlcXVhbHMgY3VycmVudCBwYXNzd29yZCcsICgpID0+IHtcbiAgICAgICAgbmV3UGFzc3dvcmQgPSBwYXNzd29yZFxuICAgICAgICBuZXdQYXNzd29yZENvbmZpcm0gPSBuZXdQYXNzd29yZCArICduZXcnXG5cbiAgICAgICAgZXhwZWN0KCgpID0+IHVwZGF0ZVVzZXJQYXNzd29yZChpZCwgcGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBuZXdQYXNzd29yZENvbmZpcm0sICgpID0+IHsgfSkpLnRvLnRocm93KEVycm9yLCAnTmV3IHBhc3N3b3JkIG11c3QgYmUgZGlmZmVyZW50IGFzIHByZXZpb3VzIHBhc3N3b3JkJylcbiAgICB9KVxuXG4gICAgaXQoJ2ZhaWxzIHdoZW4gbmV3IHBhc3N3b3JkIGRvIG5vdCBtYXRjaCBpdHMgY29uZmlybWF0aW9uJywgKCkgPT4ge1xuICAgICAgICBuZXdQYXNzd29yZCA9IHBhc3N3b3JkICsgJy1uZXcnXG4gICAgICAgIG5ld1Bhc3N3b3JkQ29uZmlybSA9IHBhc3N3b3JkICsgJy13cm9uZydcblxuICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlclBhc3N3b3JkKGlkLCBwYXNzd29yZCwgbmV3UGFzc3dvcmQsIG5ld1Bhc3N3b3JkQ29uZmlybSwgKCkgPT4geyB9KSkudG8udGhyb3coRXJyb3IsICdQYXNzd29yZHMgZG8gbm90IG1hdGNoJylcbiAgICB9KVxuXG4gICAgaXQoJ2ZhaWxzIHdoZW4gcGFzc3dvcmQgZG9lcyBvbnQgbWF0Y2ggY3VycmVudCBwYXNzd29yZCcsICgpID0+IHtcbiAgICAgICAgbmV3UGFzc3dvcmQgPSBwYXNzd29yZCArICduZXcnXG4gICAgICAgIG5ld1Bhc3N3b3JkQ29uZmlybSA9IG5ld1Bhc3N3b3JkXG4gICAgICAgIHBhc3N3b3JkID0gcGFzc3dvcmQgKyAnLXdyb25nJ1xuXG4gICAgICAgIHVwZGF0ZVVzZXJQYXNzd29yZChpZCwgcGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBuZXdQYXNzd29yZENvbmZpcm0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uYmUuaW5zdGFuY2VPZihFcnJvcilcbiAgICAgICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50by5lcXVhbCgnUGFzc3dvcmQgaXMgaW5jb3JyZWN0JylcblxuICAgICAgICAgICAgZG9uZSgpXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGFmdGVyKGRvbmUgPT4ge1xuICAgICAgICB3cml0ZUZpbGUoYCR7cHJvY2Vzcy5lbnYuREJfUEFUSH0vdXNlcnMuanNvbmAsICdbXScsICd1dGY4JywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBkb25lKGVycm9yKVxuICAgICAgICB9KVxuICAgIH0pXG59KSJdLCJtYXBwaW5ncyI6Im95T0FlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FBQUEsYUFBQSxHQUFBRSxDQUFBLE1BZlpDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FFMUIsS0FBTSxDQUFBQyxrQkFBa0IsRUFBQUwsYUFBQSxHQUFBRSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxFQUMxRCxLQUFNLENBQUVHLE1BQU8sQ0FBQyxFQUFBTixhQUFBLEdBQUFFLENBQUEsTUFBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUNsQyxLQUFNLENBQUVJLFFBQVEsQ0FBRUMsU0FBVSxDQUFDLEVBQUFSLGFBQUEsR0FBQUUsQ0FBQSxNQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUFILGFBQUEsR0FBQUUsQ0FBQSxNQUU3Q08sUUFBUSxDQUFDLG9CQUFvQixDQUFFLElBQU0sQ0FBQVQsYUFBQSxHQUFBVSxDQUFBLE1BQ2pDLEdBQUksQ0FBQUMsRUFBRSxDQUFFQyxJQUFJLENBQUVDLEtBQUssQ0FBRUMsUUFBUSxDQUFFQyxXQUFXLENBQUVDLGtCQUFrQixDQUFFQyxNQUFNLENBQUFqQixhQUFBLEdBQUFFLENBQUEsTUFDdEVnQixVQUFVLENBQUNDLElBQUksRUFBSSxDQUFBbkIsYUFBQSxHQUFBVSxDQUFBLE1BQUFWLGFBQUEsR0FBQUUsQ0FBQSxNQUNmUyxFQUFFLENBQUksTUFBS1MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0Us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