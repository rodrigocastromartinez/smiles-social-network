function cov_thrg8sl6t(){var path="/Users/macbook/workspace/isdi-parttime-202303/staff/rodrigo-castro/fullstack/api/logic/user/retrieveUser.js";var hash="c1bd0a023fe1309bb505662691cc0f27a78b65b5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/macbook/workspace/isdi-parttime-202303/staff/rodrigo-castro/fullstack/api/logic/user/retrieveUser.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:34}},"1":{start:{line:2,column:39},end:{line:2,column:53}},"2":{start:{line:4,column:0},end:{line:34,column:1}},"3":{start:{line:5,column:4},end:{line:5,column:22}},"4":{start:{line:7,column:4},end:{line:33,column:6}},"5":{start:{line:8,column:8},end:{line:12,column:9}},"6":{start:{line:9,column:12},end:{line:9,column:27}},"7":{start:{line:11,column:12},end:{line:11,column:18}},"8":{start:{line:14,column:22},end:{line:14,column:38}},"9":{start:{line:16,column:26},end:{line:16,column:64}},"10":{start:{line:16,column:45},end:{line:16,column:63}},"11":{start:{line:18,column:8},end:{line:22,column:9}},"12":{start:{line:19,column:12},end:{line:19,column:71}},"13":{start:{line:21,column:12},end:{line:21,column:18}},"14":{start:{line:24,column:21},end:{line:27,column:9}},"15":{start:{line:29,column:8},end:{line:30,column:42}},"16":{start:{line:30,column:12},end:{line:30,column:42}},"17":{start:{line:32,column:8},end:{line:32,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:39},end:{line:34,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:58},end:{line:7,column:59}},loc:{start:{line:7,column:75},end:{line:33,column:5}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:37},end:{line:16,column:38}},loc:{start:{line:16,column:45},end:{line:16,column:63}},line:16}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:12,column:9}},{start:{line:8,column:8},end:{line:12,column:9}}],line:8},"1":{loc:{start:{line:18,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:22,column:9}},{start:{line:18,column:8},end:{line:22,column:9}}],line:18},"2":{loc:{start:{line:29,column:8},end:{line:30,column:42}},type:"if",locations:[{start:{line:29,column:8},end:{line:30,column:42}},{start:{line:29,column:8},end:{line:30,column:42}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c1bd0a023fe1309bb505662691cc0f27a78b65b5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_thrg8sl6t=function(){return actualCoverage;};}return actualCoverage;}cov_thrg8sl6t();const{readFile}=(cov_thrg8sl6t().s[0]++,require('fs'));const{validators:{validateId}}=(cov_thrg8sl6t().s[1]++,require('com'));cov_thrg8sl6t().s[2]++;module.exports=(userId,callback)=>{cov_thrg8sl6t().f[0]++;cov_thrg8sl6t().s[3]++;validateId(userId);cov_thrg8sl6t().s[4]++;readFile(`${process.env.DB_PATH}/users.json`,'utf8',(error,json)=>{cov_thrg8sl6t().f[1]++;cov_thrg8sl6t().s[5]++;if(error){cov_thrg8sl6t().b[0][0]++;cov_thrg8sl6t().s[6]++;callback(error);cov_thrg8sl6t().s[7]++;return;}else{cov_thrg8sl6t().b[0][1]++;}const users=(cov_thrg8sl6t().s[8]++,JSON.parse(json));const foundUser=(cov_thrg8sl6t().s[9]++,users.find(user=>{cov_thrg8sl6t().f[2]++;cov_thrg8sl6t().s[10]++;return user.id===userId;}));cov_thrg8sl6t().s[11]++;if(!foundUser){cov_thrg8sl6t().b[1][0]++;cov_thrg8sl6t().s[12]++;callback(new Error(`user with user id ${userId}not found`));cov_thrg8sl6t().s[13]++;return;}else{cov_thrg8sl6t().b[1][1]++;}const user=(cov_thrg8sl6t().s[14]++,{id:foundUser.id,name:foundUser.name});cov_thrg8sl6t().s[15]++;if(foundUser.avatar){cov_thrg8sl6t().b[2][0]++;cov_thrg8sl6t().s[16]++;user.avatar=foundUser.avatar;}else{cov_thrg8sl6t().b[2][1]++;}cov_thrg8sl6t().s[17]++;callback(null,user);});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfdGhyZzhzbDZ0IiwiYWN0dWFsQ292ZXJhZ2UiLCJyZWFkRmlsZSIsInMiLCJyZXF1aXJlIiwidmFsaWRhdG9ycyIsInZhbGlkYXRlSWQiLCJtb2R1bGUiLCJleHBvcnRzIiwidXNlcklkIiwiY2FsbGJhY2siLCJmIiwicHJvY2VzcyIsImVudiIsIkRCX1BBVEgiLCJlcnJvciIsImpzb24iLCJiIiwidXNlcnMiLCJKU09OIiwicGFyc2UiLCJmb3VuZFVzZXIiLCJmaW5kIiwidXNlciIsImlkIiwiRXJyb3IiLCJuYW1lIiwiYXZhdGFyIl0sInNvdXJjZXMiOlsicmV0cmlldmVVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcmVhZEZpbGUgfSA9IHJlcXVpcmUoJ2ZzJylcbmNvbnN0IHsgdmFsaWRhdG9yczogeyB2YWxpZGF0ZUlkIH0gfSA9IHJlcXVpcmUoJ2NvbScpXG5cbm1vZHVsZS5leHBvcnRzID0gKHVzZXJJZCwgY2FsbGJhY2spID0+IHtcbiAgICB2YWxpZGF0ZUlkKHVzZXJJZClcblxuICAgIHJlYWRGaWxlKGAke3Byb2Nlc3MuZW52LkRCX1BBVEh9L3VzZXJzLmpzb25gLCAndXRmOCcsIChlcnJvciwganNvbikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKVxuXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXJzID0gSlNPTi5wYXJzZShqc29uKVxuXG4gICAgICAgIGNvbnN0IGZvdW5kVXNlciA9IHVzZXJzLmZpbmQodXNlciA9PiB1c2VyLmlkID09PSB1c2VySWQpXG5cbiAgICAgICAgaWYgKCFmb3VuZFVzZXIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihgdXNlciB3aXRoIHVzZXIgaWQgJHt1c2VySWR9bm90IGZvdW5kYCkpXG5cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgICAgIGlkOiBmb3VuZFVzZXIuaWQsXG4gICAgICAgICAgICBuYW1lOiBmb3VuZFVzZXIubmFtZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvdW5kVXNlci5hdmF0YXIpXG4gICAgICAgICAgICB1c2VyLmF2YXRhciA9IGZvdW5kVXNlci5hdmF0YXJcblxuICAgICAgICBjYWxsYmFjayhudWxsLCB1c2VyKVxuICAgIH0pXG59Il0sIm1hcHBpbmdzIjoiK3lGQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQWZaLEtBQU0sQ0FBRUUsUUFBUyxDQUFDLEVBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQ2xDLEtBQU0sQ0FBRUMsVUFBVSxDQUFFLENBQUVDLFVBQVcsQ0FBRSxDQUFDLEVBQUFOLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUFKLGFBQUEsR0FBQUcsQ0FBQSxNQUVyREksTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsTUFBTSxDQUFFQyxRQUFRLEdBQUssQ0FBQVYsYUFBQSxHQUFBVyxDQUFBLE1BQUFYLGFBQUEsR0FBQUcsQ0FBQSxNQUNuQ0csVUFBVSxDQUFDRyxNQUFNLENBQUMsQ0FBQVQsYUFBQSxHQUFBRyxDQUFBLE1BRWxCRCxRQUFRLENBQUUsR0FBRVUsT0FBTyxDQUFDQyxHQUFHLENBQUNDLE9BQVEsYUFBWSxDQUFFLE1BQU0sQ0FBRSxDQUFDQyxLQUFLLENBQUVDLElBQUksR0FBSyxDQUFBaEIsYUFBQSxHQUFBVyxDQUFBLE1BQUFYLGFBQUEsR0FBQUcsQ0FBQSxNQUNuRSxHQUFJWSxLQUFLLENBQUUsQ0FBQWYsYUFBQSxHQUFBaUIsQ0FBQSxTQUFBakIsYUFBQSxHQUFBRyxDQUFBLE1BQ1BPLFFBQVEsQ0FBQ0ssS0FBSyxDQUFDLENBQUFmLGFBQUEsR0FBQUcsQ0FBQSxNQUVmLE9BQ0osQ0FBQyxLQUFBSCxhQUFBLEdBQUFpQixDQUFBLFVBRUQsS0FBTSxDQUFBQyxLQUFLLEVBQUFsQixhQUFBLEdBQUFHLENBQUEsTUFBR2dCLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixJQUFJLENBQUMsRUFFOUIsS0FBTSxDQUFBSyxTQUFTLEVBQUFyQixhQUFBLEdBQUFHLENBQUEsTUFBR2UsS0FBSyxDQUFDSSxJQUFJLENBQUNDLElBQUksRUFBSSxDQUFBdkIsYUFBQSxHQUFBVyxDQUFBLE1BQUFYLGFBQUEsR0FBQUcsQ0FBQSxjQUFBb0IsSUFBSSxDQUFDQyxFQUFFLEdBQUtmLE1BQU0sQ0FBRCxDQUFDLENBQUMsRUFBQVQsYUFBQSxHQUFBRyxDQUFBLE9BRXhELEdBQUksQ0FBQ2tCLFNBQVMsQ0FBRSxDQUFBckIsYUFBQSxHQUFBaUIsQ0FBQSxTQUFBakIsYUFBQSxHQUFBRyxDQUFBLE9BQ1pPLFFBQVEsQ0FBQyxHQUFJLENBQUFlLEtBQUssQ0FBRSxxQkFBb0JoQixNQUFPLFdBQVUsQ0FBQyxDQUFDLENBQUFULGFBQUEsR0FBQUcsQ0FBQSxPQUUzRCxPQUNKLENBQUMsS0FBQUgsYUFBQSxHQUFBaUIsQ0FBQSxVQUVELEtBQU0sQ0FBQU0sSUFBSSxFQUFBdkIsYUFBQSxHQUFBRyxDQUFBLE9BQUcsQ0FDVHFCLEVBQUUsQ0FBRUgsU0FBUyxDQUFDRyxFQUFFLENBQ2hCRSxJQUFJLENBQUVMLFNBQVMsQ0FBQ0ssSUFDcEIsQ0FBQyxFQUFBMUIsYUFBQSxHQUFBRyxDQUFBLE9BRUQsR0FBSWtCLFNBQVMsQ0FBQ00sTUFBTSxDQUNoQixDQUFBM0IsYUFBQSxHQUFBaUIsQ0FBQSxTQUFBakIsYUFBQSxHQUFBRyxDQUFBLE9BQUFvQixJQUFJLENBQUNJLE1BQU0sQ0FBR04sU0FBUyxDQUFDTSxNQUFNLENBQUQsQ0FBQyxLQUFBM0IsYUFBQSxHQUFBaUIsQ0FBQSxVQUFBakIsYUFBQSxHQUFBRyxDQUFBLE9BRWxDTyxRQUFRLENBQUMsSUFBSSxDQUFFYSxJQUFJLENBQUMsQ0FDeEIsQ0FBQyxDQUFDLENBQ04sQ0FBQyJ9